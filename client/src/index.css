@import "tailwindcss";

/* 定义霓虹色和动画变量 */
@theme inline {
  --color-neon-purple: #b026ff;
  --color-neon-green: #39ff14;
  --color-neon-red: #ff0055;
  --color-neon-cyan: #00ffff;

  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);

  /* 动画引用 */
  --animate-shake: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
  --animate-flash: flash-crit 0.2s ease-out;
  --animate-pop-in: pop-in 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
  --animate-pulse-subtle: pulse-subtle 3s ease-in-out infinite;
}

:root {
  --background: #050505;
  --foreground: #ffffff;
  --card: #121212;
  --primary: #b026ff;
  --radius: 0.5rem;
}

@layer base {
  html, body {
    width: 100vw;
    height: 100vh;
    margin: 0;
    padding: 0;
    overflow: hidden;
    background-color: #000;
    font-family: monospace; /* 建议这里可以换成更酷的字体 */
  }
  
  #root {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
  }
}

@layer components {
  /* 游戏主容器：带边框和阴影 */
  .game-container {
    position: relative;
    width: 100%;
    max-width: 1280px; 
    aspect-ratio: 16/9;
    background-color: #050505;
    overflow: hidden;
    border: 2px solid #333;
    box-shadow: 0 0 50px rgba(0,0,0,0.8);
    display: flex;
    flex-direction: column;
  }

  /* 核心：CRT 扫描线遮罩 */
  .crt-overlay {
    background: linear-gradient(
      rgba(18, 16, 20, 0) 50%,
      rgba(0, 0, 0, 0.25) 50%
    );
    background-size: 100% 4px;
    pointer-events: none;
    z-index: 50;
  }

  /* 故障文字效果 */
  .glitch-text {
    position: relative;
    color: var(--color-neon-purple);
  }
}

/* --- 动画定义 --- */

/* 1. 受击震动 */
@keyframes shake {
  0% { transform: translate(1px, 1px) rotate(0deg); }
  10% { transform: translate(-1px, -2px) rotate(-1deg); }
  20% { transform: translate(-3px, 0px) rotate(1deg); }
  30% { transform: translate(3px, 2px) rotate(0deg); }
  40% { transform: translate(1px, -1px) rotate(1deg); }
  50% { transform: translate(-1px, 2px) rotate(-1deg); }
  60% { transform: translate(-3px, 1px) rotate(0deg); }
  70% { transform: translate(3px, 1px) rotate(-1deg); }
  80% { transform: translate(-1px, -1px) rotate(1deg); }
  90% { transform: translate(1px, 2px) rotate(0deg); }
  100% { transform: translate(1px, -2px) rotate(-1deg); }
}

.animate-shake {
  animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
}

/* 2. 暴击红闪 */
@keyframes flash-crit {
  0%, 100% { opacity: 0; }
  10%, 90% { opacity: 0.6; }
}

.animate-flash {
  position: absolute;
  inset: 0;
  background: rgba(255, 0, 85, 0.3);
  pointer-events: none;
  z-index: 40;
  animation: flash-crit 0.2s ease-out;
}

/* 3. 对话框弹出 */
@keyframes pop-in {
  0% { transform: scale(0.8) translateY(20px); opacity: 0; }
  100% { transform: scale(1) translateY(0); opacity: 1; }
}

.animate-pop-in {
  animation: pop-in 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
}

/* 4. 呼吸灯 */
@keyframes pulse-subtle {
  0%, 100% { opacity: 0.7; }
  50% { opacity: 1; }
}

.animate-pulse-subtle {
  animation: pulse-subtle 3s ease-in-out infinite;
}